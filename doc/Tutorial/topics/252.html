<!--create by iword1.0 pro, http://www.voland.com.cn-->
<!-- saved from url=(0026)http://www.runqian.com.cn/ -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>10.2.2 Maintaining clustered files</title>
<link rel="stylesheet" href="../images/template.css" type="text/css" />
<link rel="stylesheet" href="document.css" type="text/css" />
<script language="JavaScript" src="../resource/url.js"></script>
</head>

<body>

<div id="content-bg">
	<div id="centent">
	<div id="centent-title"><h3 style='margin-left:0cm;text-indent:0cm;mso-list:none;tab-stops:21.0pt'><span
lang=EN-US>10.2.2 Maintaining clustered files</span></h3></div>
	<p class=T-Par style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>We do not need to specifically access the main paths or search paths
of clustered files on nodes in order to manipulate them. Instead, we handle
them using functions, as shown below:</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='margin-left:19.35pt;border-collapse:collapse;mso-table-layout-alt:fixed;
 border:none;mso-border-top-alt:black;mso-border-left-alt:black;mso-border-bottom-alt:
 #B2B2B2;mso-border-right-alt:#B2B2B2;mso-border-style-alt:solid;mso-border-width-alt:
 .5pt;mso-padding-alt:0cm 0cm 0cm 0cm;mso-border-insideh:.5pt solid #B2B2B2;
 mso-border-insidev:.5pt solid #B2B2B2'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;page-break-inside:avoid;
  height:14.15pt'>
  <td width=42 valign=top style='width:31.2pt;border:solid black 1.0pt;
  mso-border-alt:solid black .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLabel style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US>&nbsp;</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:solid black 1.0pt;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  mso-border-left-alt:solid black .5pt;mso-border-alt:solid black .5pt;
  mso-border-bottom-alt:solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLabel><span lang=EN-US>A</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:solid black 1.0pt;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid black 1.0pt;
  mso-border-left-alt:solid black .5pt;mso-border-alt:solid black .5pt;
  mso-border-bottom-alt:solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLabel><span lang=EN-US>B</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;page-break-inside:avoid;height:14.15pt'>
  <td width=42 style='width:31.2pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid black .5pt;mso-border-alt:solid black .5pt;
  mso-border-right-alt:solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLabel><span lang=EN-US>1</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid #B2B2B2 1.0pt;mso-border-top-alt:solid windowtext .5pt;
  mso-border-left-alt:solid windowtext .5pt;mso-border-top-alt:windowtext;
  mso-border-left-alt:windowtext;mso-border-bottom-alt:#B2B2B2;mso-border-right-alt:
  #B2B2B2;mso-border-style-alt:solid;mso-border-width-alt:.5pt;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabCodepink style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>192.168.1.112:8281</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid windowtext 1.0pt;mso-border-top-alt:
  solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;mso-border-bottom-alt:solid #B2B2B2 .5pt;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabCodepink style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>192.168.1.112:8282</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;page-break-inside:avoid;height:14.15pt'>
  <td width=42 style='width:31.2pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid black .5pt;mso-border-alt:solid black .5pt;
  mso-border-right-alt:solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLabel><span lang=EN-US>2</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid #B2B2B2 1.0pt;mso-border-top-alt:solid #B2B2B2 .5pt;
  mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid #B2B2B2 .5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0cm 0cm 0cm 0cm;height:
  14.15pt'>
  <p class=TabCodepink style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>PersonnelInfo.txt</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid windowtext 1.0pt;mso-border-top-alt:
  solid #B2B2B2 .5pt;mso-border-left-alt:solid windowtext .5pt;mso-border-top-alt:
  #B2B2B2;mso-border-left-alt:windowtext;mso-border-bottom-alt:#B2B2B2;
  mso-border-right-alt:windowtext;mso-border-style-alt:solid;mso-border-width-alt:
  .5pt;padding:0cm 0cm 0cm 0cm;height:14.15pt'>
  <p class=TabCodepink style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;page-break-inside:avoid;height:14.15pt'>
  <td width=42 style='width:31.2pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid black .5pt;mso-border-alt:solid black .5pt;
  mso-border-right-alt:solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLabel><span lang=EN-US>3</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid #B2B2B2 1.0pt;mso-border-top-alt:solid #B2B2B2 .5pt;
  mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid #B2B2B2 .5pt;
  mso-border-left-alt:solid windowtext .5pt;padding:0cm 0cm 0cm 0cm;height:
  14.15pt'>
  <p class=TabCodepink style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>PersonnelInfo_n1.txt</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid windowtext 1.0pt;mso-border-top-alt:
  solid #B2B2B2 .5pt;mso-border-left-alt:solid windowtext .5pt;mso-border-top-alt:
  #B2B2B2;mso-border-left-alt:windowtext;mso-border-bottom-alt:#B2B2B2;
  mso-border-right-alt:windowtext;mso-border-style-alt:solid;mso-border-width-alt:
  .5pt;padding:0cm 0cm 0cm 0cm;height:14.15pt'>
  <p class=TabCodepink style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>PersonnelInfo_n2.txt</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;page-break-inside:avoid;height:14.15pt'>
  <td width=42 style='width:31.2pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid black .5pt;mso-border-alt:solid black .5pt;
  mso-border-right-alt:solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLabel><span lang=EN-US>4</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid #B2B2B2 1.0pt;mso-border-top-alt:solid #B2B2B2 .5pt;
  mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid #B2B2B2 .5pt;
  mso-border-left-alt:solid windowtext .5pt;background:#FFFF99;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabCode style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>=movefile@c(A2;&quot;/&quot;,B1)</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid windowtext 1.0pt;mso-border-top-alt:
  solid #B2B2B2 .5pt;mso-border-left-alt:solid windowtext .5pt;mso-border-top-alt:
  #B2B2B2;mso-border-left-alt:windowtext;mso-border-bottom-alt:#B2B2B2;
  mso-border-right-alt:windowtext;mso-border-style-alt:solid;mso-border-width-alt:
  .5pt;background:#FFFF99;padding:0cm 0cm 0cm 0cm;height:14.15pt'>
  <p class=TabCode style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>=movefile(A3,A1;&quot;/&quot;,B1)</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;page-break-inside:avoid;height:14.15pt'>
  <td width=42 style='width:31.2pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid black .5pt;mso-border-alt:solid black .5pt;
  mso-border-right-alt:solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLabel><span lang=EN-US>5</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid #B2B2B2 1.0pt;mso-border-top-alt:solid #B2B2B2 .5pt;
  mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid #B2B2B2 .5pt;
  mso-border-left-alt:solid windowtext .5pt;background:#FFFF99;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabCode style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>=movefile(A2,B1;B3)</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid windowtext 1.0pt;mso-border-top-alt:
  solid #B2B2B2 .5pt;mso-border-left-alt:solid windowtext .5pt;mso-border-top-alt:
  #B2B2B2;mso-border-left-alt:windowtext;mso-border-bottom-alt:#B2B2B2;
  mso-border-right-alt:windowtext;mso-border-style-alt:solid;mso-border-width-alt:
  .5pt;background:#FFFF99;padding:0cm 0cm 0cm 0cm;height:14.15pt'>
  <p class=TabCode style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>=movefile@c(A2;&quot;/&quot;,[A1:B1])</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;page-break-inside:avoid;height:14.15pt'>
  <td width=42 style='width:31.2pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid black .5pt;mso-border-alt:solid black .5pt;
  mso-border-right-alt:solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLabel><span lang=EN-US>6</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid #B2B2B2 1.0pt;mso-border-top-alt:solid #B2B2B2 .5pt;
  mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid #B2B2B2 .5pt;
  mso-border-left-alt:solid windowtext .5pt;background:#FFFF99;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabCode style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>=movefile(A2;,[A1:B1])</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid windowtext 1.0pt;mso-border-top-alt:
  solid #B2B2B2 .5pt;mso-border-left-alt:solid windowtext .5pt;mso-border-top-alt:
  #B2B2B2;mso-border-left-alt:windowtext;mso-border-bottom-alt:#B2B2B2;
  mso-border-right-alt:windowtext;mso-border-style-alt:solid;mso-border-width-alt:
  .5pt;background:#FFFF99;padding:0cm 0cm 0cm 0cm;height:14.15pt'>
  <p class=TabCode style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>=movefile@c(A3,B1;&quot;/&quot;,A1)</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7;mso-yfti-lastrow:yes;page-break-inside:avoid;
  height:14.15pt'>
  <td width=42 style='width:31.2pt;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid black .5pt;mso-border-alt:solid black .5pt;
  mso-border-right-alt:solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLaEnd><span lang=EN-US>7</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid #B2B2B2 1.0pt;mso-border-top-alt:solid #B2B2B2 .5pt;
  mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid #B2B2B2 .5pt;
  mso-border-left-alt:solid windowtext .5pt;background:blue;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabCode style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>=movefile(A3,A1;&quot;/&quot;,B1)</span></p>
  </td>
  <td width=189 style='width:5.0cm;border-top:none;border-left:none;border-bottom:
  solid #B2B2B2 1.0pt;border-right:solid windowtext 1.0pt;mso-border-top-alt:
  solid #B2B2B2 .5pt;mso-border-left-alt:solid windowtext .5pt;mso-border-top-alt:
  #B2B2B2;mso-border-left-alt:windowtext;mso-border-bottom-alt:#B2B2B2;
  mso-border-right-alt:windowtext;mso-border-style-alt:solid;mso-border-width-alt:
  .5pt;padding:0cm 0cm 0cm 0cm;height:14.15pt'>
  <p class=TabCode style='text-align:justify;text-justify:inter-ideograph'><span
  lang=EN-US style='font-family:"Times New Roman",serif'>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=T-ParCxSpFirst style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>This cellset file defines two nodes started in one computer. Node ¢ñ
is 192.168.1.112:8281 and its main path is <i>D:/files/node1</i>. Node ¢ò is
192.168.1.112:8282 and its main path is <i>D:/files/node2</i>. At the
beginning, the main paths on the two nodes contain files as follows:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='border:solid #F2F2F2 1.0pt;
mso-border-alt:solid #F2F2F2 .5pt;padding:0cm;mso-ansi-language:#0400;
mso-fareast-language:#0400'><img border=0 width=260 height=35
src="Tutorial.files/image1008.png" v:shapes="Í¼Æ¬_x0020_1024"></span><span
lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:#0400'><span
style='mso-spacerun:yes'>&nbsp;</span><span style='border:solid #F2F2F2 1.0pt;
mso-border-alt:solid #F2F2F2 .5pt;padding:0cm'><img border=0 width=260 height=35
src="Tutorial.files/image1009.png" v:shapes="Í¼Æ¬_x0020_1025"></span></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>We execute the above code step by step. A4 uses <span class=T-Bold>movefile@c(<i
style='mso-bidi-font-style:normal'>fn</i>; <i style='mso-bidi-font-style:normal'>p</i>,
<i style='mso-bidi-font-style:normal'>hs</i>) </span>function to copy local
file <span class=T-Bold><i style='mso-bidi-font-style:normal'>fn </i></span>into
directory <span class=T-Bold><i style='mso-bidi-font-style:normal'>p </i></span>on
clustered server <span class=T-Bold><i style='mso-bidi-font-style:normal'>hs</i></span>.
The @c option enables a copy operation. Here only node ¢ò is specified in the
function to copy the target file to the node¡¯s main path. After the code executed,
the main paths on the two nodes contain files as follows:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=260 height=35
src="Tutorial.files/image1008.png" v:shapes="Í¼Æ¬_x0020_1026"><span
style='mso-spacerun:yes'>&nbsp;</span><img border=0 width=260 height=35
src="Tutorial.files/image1010.png" v:shapes="Í¼Æ¬_x0020_1027"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>A file is uploaded to the main path of node ¢ò. The related
information will be displayed to the clustered server¡¯s output window:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=400 height=45
src="Tutorial.files/image1011.png" v:shapes="Í¼Æ¬_x0020_3"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>B4 uses <span class=T-Bold>movefile(<i style='mso-bidi-font-style:
normal'>fn</i>, <i style='mso-bidi-font-style:normal'>h</i>; <i
style='mso-bidi-font-style:normal'>p</i>, <i style='mso-bidi-font-style:normal'>hs</i>)
</span>function to copy file <span class=T-Bold><i style='mso-bidi-font-style:
normal'>fn </i></span><span class=T-Bold><span style='font-weight:normal;
mso-bidi-font-weight:bold;mso-bidi-font-style:italic'>on clustered server</span><i
style='mso-bidi-font-style:normal'> h </i></span>into path <span class=T-Bold><i
style='mso-bidi-font-style:normal'>p </i></span>on clustered server <span
class=T-Bold><i style='mso-bidi-font-style:normal'>hs</i></span>. Here <i>PersonnelInfo_n1.txt</i>
is moved from Node ¢ñ to Node ¢ò¡¯s main path. As no corresponding is used, the
original file is deleted and directory <i>D:/files/node1</i> becomes empty
after the move operation is executed. Now there are files in directory <i>D:/files/node2</i>
as follows:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='border:solid #F2F2F2 1.0pt;
mso-border-alt:solid #F2F2F2 .5pt;padding:0cm;mso-ansi-language:#0400;
mso-fareast-language:#0400'><img border=0 width=260 height=35
src="Tutorial.files/image1009.png" v:shapes="Í¼Æ¬_x0020_1029"><span
style='mso-spacerun:yes'>&nbsp;</span></span><span lang=zh-CN style='mso-ansi-language:
#0400;mso-fareast-language:#0400'><img border=0 width=351 height=60
src="Tutorial.files/image1012.png" v:shapes="Í¼Æ¬_x0020_2"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'>The two nodes¡¯ system output windows display information as follows:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=400 height=45
src="Tutorial.files/image1013.png" v:shapes="Í¼Æ¬_x0020_5"><span
style='mso-spacerun:yes'>&nbsp;</span><img border=0 width=400 height=45
src="Tutorial.files/image1014.png" v:shapes="Í¼Æ¬_x0020_4"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>In A5, <span class=T-Bold>movefile(<i style='mso-bidi-font-style:
normal'>fn</i>, <i style='mso-bidi-font-style:normal'>h</i>; <i
style='mso-bidi-font-style:normal'>p</i>, <i style='mso-bidi-font-style:normal'>hs</i>)
</span>function does not specify the target node parameter <span class=T-Bold><i
style='mso-bidi-font-style:normal'>hs</i></span>, and file <span class=T-Bold><i
style='mso-bidi-font-style:normal'>fn</i></span> will be renamed <span
class=T-Bold><i style='mso-bidi-font-style:normal'>p</i></span>. In this case, <span
class=T-Bold><i style='mso-bidi-font-style:normal'>p </i></span>does not
represent a target path any more, instead it is the new file name. Still, there
are no files in directory <i>D:/files/node1</i>after execution, and <i>D:/files/node2
</i>has the following files:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='border:solid #F2F2F2 1.0pt;
mso-border-alt:solid #F2F2F2 .5pt;padding:0cm;mso-ansi-language:#0400;
mso-fareast-language:#0400'><img border=0 width=260 height=35
src="Tutorial.files/image1009.png" v:shapes="Í¼Æ¬_x0020_1033"><span
style='mso-spacerun:yes'>&nbsp;</span></span><span lang=zh-CN style='mso-ansi-language:
#0400;mso-fareast-language:#0400'><img border=0 width=260 height=55
src="Tutorial.files/image1015.png" v:shapes="Í¼Æ¬_x0020_7"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>Similar to A4, B5 copies the local file <i>PersonnelInfo.txt</i>,
but it uses a sequence to specify multilple target nodes, two which the file
will be copied. After execution the main paths of the two nodes have the
following files:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=260 height=35
src="Tutorial.files/image1010.png" v:shapes="Í¼Æ¬_x0020_1035"><span
style='border:solid #F2F2F2 1.0pt;mso-border-alt:solid #F2F2F2 .5pt;padding:
0cm'><span style='mso-spacerun:yes'>&nbsp;</span></span><img border=0 width=260 height=75
src="Tutorial.files/image1016.png" v:shapes="Í¼Æ¬_x0020_9"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>The two clustered servers¡¯ system output windows display same
information at file copy:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=400 height=45
src="Tutorial.files/image1017.png" v:shapes="Í¼Æ¬_x0020_10"><span
style='mso-spacerun:yes'>&nbsp;</span><img border=0 width=400 height=45
src="Tutorial.files/image1017.png" v:shapes="Í¼Æ¬_x0020_1038"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>In A5, <span class=T-Bold>movefile(<i style='mso-bidi-font-style:
normal'>fn</i>, <i style='mso-bidi-font-style:normal'>h</i>; <i
style='mso-bidi-font-style:normal'>p</i>, <i style='mso-bidi-font-style:normal'>hs</i>)
</span>function does not specify the target path parameter <span class=T-Bold><i
style='mso-bidi-font-style:normal'>p</i></span> and thus, deletes the file.
Below are the files in the main paths of the two nodes after execution:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='border:solid #F2F2F2 1.0pt;
mso-border-alt:solid #F2F2F2 .5pt;padding:0cm;mso-ansi-language:#0400;
mso-fareast-language:#0400'><img border=0 width=260 height=35
src="Tutorial.files/image1009.png" v:shapes="Í¼Æ¬_x0020_1039"><span
style='mso-spacerun:yes'>&nbsp;</span></span><span lang=zh-CN style='mso-ansi-language:
#0400;mso-fareast-language:#0400'><img border=0 width=260 height=55
src="Tutorial.files/image1015.png" v:shapes="Í¼Æ¬_x0020_1040"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>Yet A5 specifies the target node parameter <span class=T-Bold><i
style='mso-bidi-font-style:normal'>hs </i></span>and, deletes the file from all
involved nodes. In this case the node <span class=T-Bold><i style='mso-bidi-font-style:
normal'>h </i></span>holding the source file should be absent in order to avoid
deleting the source file. If you specifies source node <span class=T-Bold><i
style='mso-bidi-font-style:normal'>h </i></span>but does not specify the target
node parameter <span class=T-Bold><i style='mso-bidi-font-style:normal'>hs</i></span>,
the function will delete the file from the specified node.</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>The deletion operation information will be displayed in the two
nodes¡¯ output sytem windows. The two have same information as follows:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=400 height=45
src="Tutorial.files/image1018.png" v:shapes="Í¼Æ¬_x0020_11"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>B6 copies <i>PersonnelInfo_n1.txt</i> on node ¢ò to node ¢ñ. Now there
are the following files in the main paths of the two nodes:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=260 height=35
src="Tutorial.files/image1008.png" v:shapes="Í¼Æ¬_x0020_1042"><span
style='border:solid #F2F2F2 1.0pt;mso-border-alt:solid #F2F2F2 .5pt;padding:
0cm'><span style='mso-spacerun:yes'>&nbsp;</span></span><img border=0 width=260 height=55
src="Tutorial.files/image1015.png" v:shapes="Í¼Æ¬_x0020_1043"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>Now error occurs when A7 is trying to move <i>PersonnelInfo_n1.txt</i>
from node ¢ñ to node ¢ò:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt;line-height:16.0pt;mso-line-height-rule:exactly'><span
lang=EN-US>&nbsp;</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=396 height=95
src="Tutorial.files/image1019.png" v:shapes="Í¼Æ¬_x0020_1044"></span></p>

<p class=T-ParCxSpLast style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=EN-US>This is because there is already a
namesake file in the target directory. To avoid the error and the incurred
termination of execution, we use @y option in movefile() function to force
overwriting a namesake file in the target path at file moving or copy.</span></p>
	</div>
	<div id="previous-next">
		<div id="next"><a href="253.html">Next</a></div>
		<div id="previous"><a href="251.html">Previous</a></div>		
	</div>
	<div id="related">
		<div class="related-title"><div class="related-title-left"></div>   Related :</div>
		<div class="related-list"><li><span style='font-family:ËÎÌå;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'><a href="250.html">10.2 Clustered files</a></span></li>
</div>
	</div>
	<div id="footer">	
		
		
    <div class="copyright"> Copyright&reg; 2021-2023 <a href="http://www.scudata.com" target="_Blank">SCUDATA Ltd. 
      </a></div>
	</div>
</div>

</body>
</html>
